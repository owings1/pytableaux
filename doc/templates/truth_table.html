{# assumes input values are properly ordered for binary operators #}
<div class="truth-table-wrapper">
    <table class="truth-table operator-{{ operator.lower()|e }}
        {{- ' docutils' if theme == 'sphinx_rtd_theme' }}">
        <thead>
            <tr>
                {% if arity == 1 %}
                    <th class="operator-name" colspan="2">{{ operator }}</th>
                {% elif arity == 2 %}
                    <th class="operator-name" colspan="{{ num_values + 1 }}">{{ operator }}</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% if arity == 1 %}
                <tr>
                    <th class="blank"></th>
                    <th class="operator-symbol arity-1">
                        {{ lw.write(operator) }}
                    </th>
                </tr>
            {% elif arity == 2 %}
                <tr>
                    <th class="operator-symbol arity-2">
                        {{ lw.write(operator) }}
                    </th>
                    {% for x in range(num_values) %}
                        <th class="value-header row">
                            {{ table['inputs'][x][1]|e }}
                        </th>
                    {% endfor %}
                </tr>
            {% endif %}
            {% for x in range(num_values) %}
                <tr>
                    <th class="value-header column">
                        {% if arity == 1 %}
                            {{ table['inputs'][x][0]|e }}
                        {% elif arity == 2 %}
                            {{ table['inputs'][num_values * x][0]|e }}
                        {% endif %}
                    </th>
                    {% if arity == 1 %}
                        <td>{{ table['outputs'][x]|e }}</td>
                    {% elif arity == 2 %}
                        {% for y in range(num_values) %}
                            <td>{{ table['outputs'][y + num_values * x]|e }}</td>
                        {% endfor %}
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>